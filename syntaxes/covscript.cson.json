{
	"version": "1.0.0",
	"name": "CovScript",
	"scopeName": "source.covscript",
	"fileTypes": [
		"csc",
		"csp"
	],
	"firstLineMatch": "^#!\\s*/.*(?:covscript|cs)\\b",
	"patterns": [
		{
			"captures": {
				"1": {
					"name": "keyword.control.import.covscript"
				},
				"2": {
					"name": "entity.name.type.namespace.covscript"
				},
				"4": {
					"name": "keyword.control.import_as.covscript"
				},
				"6": {
					"name": "entity.name.type.package.covscript"
				}
			},
			"match": "^\\s*(import)\\s+([A-Za-z_]\\w*(\\.[A-Za-z_]\\w*)*)\\b\\s+((as)\\s+([A-Za-z_]\\w*))?\\s*$",
			"name": "meta.import_as.covscript"
		},
		{
			"captures": {
				"1": {
					"name": "keyword.control.import.covscript"
				},
				"2": {
					"name": "entity.name.type.package.covscript"
				}
			},
			"match": "^\\s*(import)\\s+([A-Za-z_]\\w*(\\s*,\\s*[A-Za-z_]\\w*)*)\\s*$",
			"name": "meta.import.covscript"
		},
		{
			"captures": {
				"1": {
					"name": "keyword.control.using.covscript"
				},
				"2": {
					"name": "entity.name.type.namespace.covscript"
				}
			},
			"match": "^\\s*(using)\\s+([A-Za-z_]\\w*(\\s*,\\s*[A-Za-z_]\\w*)*)\\s*$",
			"name": "meta.using.covscript"
		},
		{
			"captures": {
				"1": {
					"name": "keyword.control.package.covscript"
				},
				"2": {
					"name": "entity.name.type.package.covscript"
				}
			},
			"match": "^\\s*(package)\\s+([A-Za-z_]\\w*)\\s*$",
			"name": "meta.package.covscript"
		},
		{
			"begin": "^\\s*(var|constant|link)",
			"beginCaptures": {
				"0": {
					"name": "keyword.control.using.covscript"
				}
			},
			"end": "$",
			"name": "meta.var.covscript",
			"patterns": [
				{
					"include": "#variable_definition"
				}
			]
		},
		{
			"captures": {
				"1": {
					"name": "keyword.control.class.covscript"
				},
				"2": {
					"name": "entity.name.type.class.covscript"
				},
				"4": {
					"name": "keyword.control.extends.covscript"
				},
				"5": {
					"name": "entity.name.type.parent.covscript"
				}
			},
			"match": "^\\s*(class|struct)\\s+([A-Za-z_]\\w*)\\s+((extends)\\s+([A-Za-z_]\\w*))?\\s*$",
			"name": "meta.class.covscript"
		},
		{
			"match": "\\bnull\\b(?![?!])",
			"name": "constant.language.nil.covscript"
		},
		{
			"match": "\\b(true|false)\\b(?![?!])",
			"name": "constant.language.boolean.covscript"
		},
		{
			"match": "\\b(this|self)\\b(?![?!])",
			"name": "variable.language.self.covscript"
		},
		{
			"match": "\\b(and|or|not|typeid|new|gcnew|local|global)\\b(?![?!])",
			"name": "keyword.operator.reserved.covscript"
		},
		{
			"match": "^\\s*(block|else|default|loop|break|continue|try|end)\\s$",
			"name": "keyword.control.reserved.covscript"
		},
		{
			"match": "^\\s*(namespace|if|switch|case|while|until|return|throw)\\b(?![?!])",
			"name": "keyword.control.reserved.covscript"
		},
		{
			"match": "\\b(\\+|-|\\*|/|=)\\b(?![?!])",
			"name": "keyword.operator.reserved.covscript"
		},
		{
			"match": "^\\s*(@[A-Za-z_]\\w*)\\s*(:\\s*[A-Za-z_]\\w*\\s*)?$",
			"name": "entity.name.tag.preprocessor.covscript"
		},
		{
			"match": "^\\s*#.*$",
			"name": "comment.line.number-sign"
		},
		{
			"match": "\b[0-9]+(.[0-9]+)?\b(?![?!])",
			"name": "constant.numeric"
		},
		{
			"begin": "'",
			"beginCaptures": {
				"0": {
					"name": "punctuation.definition.string.begin.covscript"
				}
			},
			"comment": "string literal with '' delimitor",
			"end": "'",
			"endCaptures": {
				"0": {
					"name": "punctuation.definition.string.end.covscript"
				}
			},
			"name": "string.quoted.single.covscript",
			"patterns": [
				{
					"include": "#escaped_char"
				}
			]
		},
		{
			"begin": "\"",
			"beginCaptures": {
				"0": {
					"name": "punctuation.definition.string.begin.covscript"
				}
			},
			"comment": "string literal with interpolation and \"\" delimitor",
			"end": "\"",
			"endCaptures": {
				"0": {
					"name": "punctuation.definition.string.end.covscript"
				}
			},
			"name": "string.quoted.double.covscript",
			"patterns": [
				{
					"include": "#escaped_char"
				}
			]
		},
		{
			"match": ";",
			"name": "punctuation.separator.statement.covscript"
		},
		{
			"match": ",",
			"name": "punctuation.separator.object.covscript"
		},
		{
			"match": "{",
			"name": "punctuation.section.scope.begin.covscript"
		},
		{
			"match": "}",
			"name": "punctuation.section.scope.end.covscript"
		},
		{
			"match": "\\[",
			"name": "punctuation.section.array.begin.covscript"
		},
		{
			"match": "]",
			"name": "punctuation.section.array.end.covscript"
		},
		{
			"match": "\\(|\\)",
			"name": "punctuation.section.function.covscript"
		},
		{
			"begin": "(?=[a-zA-Z0-9_!?]+\\()",
			"end": "(?<=\\))",
			"name": "meta.function-call.covscript",
			"patterns": [
				{
					"match": "([a-zA-Z0-9_!?]+)((?=\\()|([!?]))",
					"name": "entity.name.function.covscript"
				},
				{
					"include": "$self"
				}
			]
		}
	],
	"repository": {
		"escaped_char": {
			"match": "\\\\(a|b|f|n|r|t|v|\\|'|\"|0)",
			"name": "constant.character.escape.covscript"
		},
		"variable_definition": {
			"captures": {
				"1": {
					"name": "variable.other.covscript"
				}
			},
			"match": "([A-za-z_]\\w*)\\s*=",
			"name": "meta.vardef.covscript"
		}
	}
}